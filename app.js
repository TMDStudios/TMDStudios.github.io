const apps = [
    {
        "name":"Block Wars",
        "description": `
            <h4>Block Wars</h4>
            <p>A fast-paced vertical shooter with a unique twist</p>
            <ul>
            <li>Falling blocks change color with each hit</li>
            <li>Blocks are destroyed if they match the bullet color</li>
            <li>Blocks stack to narrow the play area</li>
            </ul>
            <h5>Tools Used:</h5>
            <p>Java, Android Studio, LibGDX, Google SDK (Analytics, Google Pay, Leaderboards)</p>
            <br>
            <h5>Deployment:</h5>
            <p>Google Play, Apple App Store, Amazon Appstore, itch.io</p>
        `,
        "link":'<a href="https://play.google.com/store/apps/details?id=com.tmdstudios.blockwars" target="_blank"><img src="media/googleBanner.png"/></a>',
        "video":"media/BlockWars.mp4",
        "poster":"media/BlockWars.png",
        "hasVideo":true,
        "thumb":"",
        "fullImg":"",
        "gitHubLink":""
    },
    {
        "name":"Buddy Breakout",
        "description": `
            <h4>Buddy Breakout</h4>
            <p>A new take on the classic breakout game</p>
            <ul>
            <li>Control four paddles to keep the ball in play</li>
            <li>Bumper blocks add an element of surprise</li>
            <li>Collect power-up cards to stay ahead of the game</li>
            </ul>
            <h5>Tools Used:</h5>
            <p>Java, Android Studio, LibGDX, Google SDK (Analytics, Google Pay, Leaderboards)</p>
            <br>
            <h5>Deployment:</h5>
            <p>Google Play, Apple App Store, Amazon Appstore</p>
        `,
        "link":'<a href="https://play.google.com/store/apps/details?id=com.tmdstudios.buddybreakout" target="_blank"><img src="media/googleBanner.png"/></a>',
        "video":"media/BuddyBreakout.mp4",
        "poster":"media/BuddyBreakout.png",
        "hasVideo":true,
        "thumb":"",
        "fullImg":"",
        "gitHubLink":""
    },
    {
        "name":"Puzzled Knight",
        "description": `
            <h4>Puzzled Knight</h4>
            <p>A match-3 adventure with strategic gameplay</p>
            <ul>
            <li>Attack, block, and evade against enemies that do the same</li>
            <li>Gain extra turns by matching more than 3 blocks</li>
            <li>Earn coins to purchase power-ups</li>
            </ul>
            <h5>Tools Used:</h5>
            <p>Java, Android Studio, LibGDX, Google SDK (Analytics, Google Pay, Leaderboards)</p>
            <br>
            <h5>Deployment:</h5>
            <p>Google Play, Apple App Store, Amazon Appstore, itch.io, Kongregate</p>
        `,
        "link":'<a href="https://play.google.com/store/apps/details?id=com.tmdstudios.puzzledknight" target="_blank"><img src="media/googleBanner.png"/></a>',
        "video":"media/PuzzledKnight.mp4",
        "poster":"media/PuzzledKnight.png",
        "hasVideo":true,
        "thumb":"",
        "fullImg":"",
        "gitHubLink":""
    },
    {
        "name":"Road To Rage",
        "description": `
            <h4>Road To Rage</h4>
            <p>A vertical shooter with 10 action-packed levels</p>
            <ul>
            <li>Blast your way through relentless traffic and chaos</li>
            <li>Collect power-ups to unleash rampage mode and supercharge your weapons</li>
            <li>Battle bosses at the end of each level</li>
            </ul>
            <h5>Tools Used:</h5>
            <p>Java, Android Studio, LibGDX, Google SDK (Analytics, Google Pay, Leaderboards)</p>
            <br>
            <h5>Deployment:</h5>
            <p>Google Play, Apple App Store, Amazon Appstore, itch.io, Kongregate</p>
        `,
        "link":'<a href="https://play.google.com/store/apps/details?id=com.wordpress.tmdstudios" target="_blank"><img src="media/googleBanner.png"/></a>',
        "video":"media/RTR.mp4",
        "poster":"media/RTR.png",
        "hasVideo":true,
        "thumb":"",
        "fullImg":"",
        "gitHubLink":""
    },
    {
        "name":"Py Learning Companion",
        "description": `
            <h4>Py Learning Companion</h4>
            <p>Light-weight app with bite-sized Python lessons and activities</p>
            <ul>
            <li>Great for learning on the go</li>
            <li>Multiple types of activities that will test your Python knowledge</li>
            <li>Hundreds of engaging activities to challenge your Python knowledge</li>
            </ul>
            <h5>Tools Used:</h5>
            <p>Java, Android Studio, LibGDX, Google SDK (Analytics, Google Pay)</p>
            <br>
            <h5>Deployment:</h5>
            <p>Google Play, Apple App Store, Amazon Appstore</p>
        `,
        "link":'<a href="https://play.google.com/store/apps/details?id=com.tmdstudios.python" target="_blank"><img src="media/googleBanner.png"/></a>',
        "video":"media/PLC.mp4",
        "poster":"media/PLC.png",
        "hasVideo":true,
        "thumb":"",
        "fullImg":"",
        "gitHubLink":""
    },
    {
        "name":"MingSec",
        "description": `
            <h5><a href="https://github.com/TMDStudios/MingSec" target="_blank">MingSec</a></h5>
            <p>DIY home security system designed to leverage OpenCV for motion detection</p>
            <hr>
            <p>Python, OpenCV, Dropbox API, Django, REST API, JavaScript, Kotlin, Linux, SSH</p>
        `,
        "link":"",
        "video":"",
        "poster":"",
        "hasVideo":false,
        "thumb":"media/MingSecWebsiteThumb.png",
        "fullImg":"media/MingSecWebsite.png",
        "gitHubLink":"https://github.com/TMDStudios/MingSec",
        "hasSlideshow":true,
        "images":[
            "media/MingSecWebsiteThumb.png",
            "media/MingSecWebsiteThumb1.png",
            "media/MingSecWebsiteThumb2.png",
            "media/MingSecWebsiteThumb3.png",
            "media/MingSecWebsiteThumb4.png",
            "media/MingSecWebsiteThumb5.png",
            "media/MingSecWebsiteThumb6.png"
        ]
    },
    {
        "name":"Game Room",
        "description": `
            <h5><a href="https://gameroom.up.railway.app/" target="_blank">Game Room</a></h5>
            <p>A platform for educators to play games and/or review materials with their students</p>
            <hr>
            <p>Java, Spring Boot, MySQL, JavaScript, WebSocket, SockJS, STOMP, jQuery, Docker</p>
        `,
        "link":"",
        "video":"",
        "poster":"",
        "hasVideo":false,
        "thumb":"media/GameRoomWebsiteThumb.png",
        "fullImg":"media/GameRoomWebsite.png",
        "gitHubLink":"https://github.com/TMDStudios/GameRoom",
        "hasSlideshow":false
    },
    {
        "name":"Study Room",
        "description": `
            <h5><a href="https://studyroom.tmdstudios.net/" target="_blank">Study Room</a></h5>
            <p>Open-source platform for students to improve their English vocabulary and grammar</p>
            <hr>
            <p>JavaScript, REST API, HTML, CSS, AJAX, DOM Manipulation, Event Handling, XMLHttpRequest</p>
        `,
        "link":"",
        "video":"",
        "poster":"",
        "hasVideo":false,
        "thumb":"media/StudyRoomWebsiteThumb.png",
        "fullImg":"media/StudyRoomWebsite.png",
        "gitHubLink":"https://github.com/TMDStudios/StudyRoom",
        "hasSlideshow":false
    },
    {
        "name":"Ninja Stars",
        "description": `
            <h5><a href="https://github.com/TMDStudios/ninja-stars" target="_blank">Ninja Stars</a></h5>
            <p>Tool designed to foster collaboration and support within bootcamp learning environments</p>
            <hr>
            <p>Python, Django, REST API, JWT, JavaScript, SPA, Chrome Extension, React</p>
        `,
        "link":"",
        "video":"",
        "poster":"",
        "hasVideo":false,
        "thumb":"media/NinjaStarsWebsiteThumb.png",
        "fullImg":"media/NinjaStarsWebsite.png",
        "gitHubLink":"https://github.com/TMDStudios/ninja-stars",
        "hasSlideshow":false
    },
    {
        "name":"Crypto Ledger",
        "description": `
            <h4>Crypto Ledger</h4>
            <p>Open source extension of the Crypto Ledger website</p>
            <ul>
            <li>Makes use of the Crypto Ledger API to buy, sell, and monitor coins</li>
            <li>Buying and selling coins requires an API Key, while getting live price data does not</li>
            <li>Currently unavailable due to pending deployment of the Crypto Ledger website</li>
            </ul>
            <h5>Tools Used:</h5>
            <p>Kotlin, Android Studio, REST API</p>
            <br>
            <h5>Deployment:</h5>
            <p>Google Play</p>
        `,
        "link":'<a href="https://play.google.com/store/apps/details?id=com.tmdstudios.cryptoledgerkotlin" target="_blank"><img src="media/googleBanner.png"/></a>',
        "video":"media/CryptoLedger.mp4",
        "poster":"media/CryptoLedger.png",
        "hasVideo":true,
        "thumb":"",
        "fullImg":"",
        "gitHubLink":""
    },
    {
        "name":"Mock Trader",
        "description": `
            <h4>Mock Trader</h4>
            <p>Simple Bitcoin trading app</p>
            <ul>
            <li>Players make trades based on fictional daily news events</li>
            <li>The app fetches JSON data to generate daily news stories</li>
            <li>Deployed as a proof of concept for trading simulation</li>
            </ul>
            <h5>Tools Used:</h5>
            <p>Kotlin, Android Studio, JSON</p>
            <br>
            <h5>Deployment:</h5>
            <p>Google Play</p>
        `,
        "link":'<a href="https://play.google.com/store/apps/details?id=com.tmdstudios.mocktrader" target="_blank"><img src="media/googleBanner.png"/></a>',
        "video":"media/MockTrader.mp4",
        "poster":"media/MockTrader.png",
        "hasVideo":true,
        "thumb":"",
        "fullImg":"",
        "gitHubLink":""
    }
];
let currentApp = 0;
let currentIndex = 0;
let totalImages = 1;
let intervalId;
const mediaContainer = document.getElementById("mediaContainer");
const description = document.getElementById("description");
const mobileLink = document.getElementById("mobileLink");

function prevApp(){
    if(currentApp>0){
        currentApp--;
    }else{
        currentApp=apps.length-1;
    }
    showApp();
}

function nextApp(){
    if(currentApp<apps.length-1){
        currentApp++;
    }else{
        currentApp=0;
    }
    showApp();
}

function showApp(){
    stopAutoCycle();
    const isSmallScreen = window.matchMedia("(max-width: 975px)").matches;
    const projectRight = document.getElementById("project-right");
    if(apps[currentApp].hasVideo==true){
        if(!isSmallScreen){
            projectRight.style.display = "block";
        }else{
            projectRight.style.display = "none";
        }
        mobileLink.innerHTML = apps[currentApp].link ? `<p class="storeLink" id="link">${apps[currentApp].link}</p>` : "";
        mediaContainer.innerHTML = `<video id="video" width="320" height="480" autoplay muted controls loop poster="${apps[currentApp].poster}"><source src="${apps[currentApp].video}" type="video/mp4">Your browser does not support the video tag.</video>`
        description.innerHTML = apps[currentApp].description;
        document.getElementById("link").innerHTML = apps[currentApp].link;
    }else{
        mediaContainer.innerHTML = '<img id="websiteImg" alt="Website screenshot" onclick="viewImage()" src="'+apps[currentApp].thumb+'"/><div class="websiteInfo">'+apps[currentApp].description+'</div>';
        description.innerHTML = '';
        projectRight.style.display = "none";
        mobileLink.innerHTML = "";
        const websiteImg = document.getElementById("websiteImg");
        if(apps[currentApp].hasSlideshow){
            currentIndex = 0;
            totalImages = apps[currentApp].images.length-1;
            websiteImg.addEventListener('mouseenter', stopAutoCycle);
            websiteImg.addEventListener('mouseleave', startAutoCycle);
            updateImage();
            startAutoCycle();
        }else{
            websiteImg.removeEventListener('mouseenter', stopAutoCycle);
            websiteImg.removeEventListener('mouseleave', startAutoCycle);
        }
    }
}

function updateImage(){
    document.getElementById("websiteImg").src = apps[currentApp].images[currentIndex];
}

function nextImg(){
    currentIndex = currentIndex < totalImages ? currentIndex + 1 : 0;
    updateImage();
}

function startAutoCycle(){
    intervalId = setInterval(nextImg, 2500);
}

function stopAutoCycle(){
    clearInterval(intervalId);
}

function viewImage(){
    window.open("/"+apps[currentApp].fullImg);
}

const appHeight = () => document.documentElement.style.setProperty('--app-height', `${window.innerHeight}px`)
window.addEventListener('resize', appHeight)
appHeight()